"use strict";(self.webpackChunkangular_tailwind_ratp=self.webpackChunkangular_tailwind_ratp||[]).push([[286],{4286:(b,c,a)=>{a.r(c),a.d(c,{RatpModule:()=>A});var i=a(4755),s=a(1816),t=a(2223),l=a(8505),d=a(5698),f=a(262),u=a(3144);let g=(()=>{class n{constructor(e){this.http=e}getRatpTrafficData(){return this.ratpTrafficData=this.http.get("https://api-ratp.pierre-grimaud.fr/v4/traffic").pipe((0,l.b)(e=>console.log("traffic response: ",e)),(0,d.q)(1),(0,f.K)(e=>{throw"error in getting API data. Details: "+e}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(u.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const h=function(n){return{backgroundColor:n}};let v=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ratp-card"]],inputs:{ratp:"ratp"},decls:6,vars:5,consts:[[1,"m-1","transition-all","duration-200","transform","border","border-gray-400","rounded-lg","cursor-pointer","card","hover:shadow-md","hover:border-opacity-0","hover:-translate-y-1"],[1,"m-1"],[1,"inline","px-2","font-mono","text-sm","rounded-full","animate-pulse",3,"ngStyle"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"p"),t._uU(3),t.TgZ(4,"span",2),t._uU(5),t.qZA()()()()),2&e&&(t.xp6(3),t.hij(" L",o.ratp.line," "),t.xp6(1),t.Q6J("ngStyle",t.VKq(3,h,"normal"===o.ratp.slug?"lightgreen":"orange")),t.xp6(1),t.Oqu(o.ratp.slug))},dependencies:[i.PC],encapsulation:2}),n})(),C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-spinner"]],decls:2,vars:0,consts:[[1,"flex","justify-center","items-center"],[1,"loader","ease-linear","rounded-full","border-8","border-t-8","border-blue-200","h-16","w-16"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.qZA())},styles:[".loader[_ngcontent-%COMP%]{border-top-color:#3498db;animation:_ngcontent-%COMP%_spinner 1.5s linear infinite}@keyframes _ngcontent-%COMP%_spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})();function y(n,r){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-spinner"),t.qZA())}const R=function(n){return{color:n}};function T(n,r){if(1&n&&(t.TgZ(0,"div")(1,"div",6)(2,"span",7)(3,"p"),t._uU(4),t.qZA()(),t._UZ(5,"app-ratp-card",8),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.Q6J("ngStyle",t.VKq(3,R,"normal"===e.slug?"green":"#CC5500")),t.xp6(2),t.Oqu(e.message),t.xp6(1),t.Q6J("ratp",e)}}function Z(n,r){if(1&n&&(t.TgZ(0,"body",3)(1,"div",4),t.YNc(2,T,6,5,"div",5),t.ALo(3,"async"),t.ALo(4,"async"),t.ALo(5,"async"),t.qZA()()),2&n){const e=t.oxw();let o;t.xp6(2),t.Q6J("ngForOf","metros"===e.id?null==(o=t.lcZ(3,1,e.ratpTraffic$))?null:o.result.metros:"rers"===e.id?null==(o=t.lcZ(4,3,e.ratpTraffic$))?null:o.result.rers:null==(o=t.lcZ(5,5,e.ratpTraffic$))?null:o.result.tramways)}}const M=[{path:"",component:(()=>{class n{constructor(e,o){this.trafficService=e,this.activatedroute=o,this.trafficArray=[],this.loading=!0,this.defaultRatpMessage="Trafic normal sur l'ensemble de la ligne.",this.getRatpTraffic=()=>{try{this.ratpTraffic$=this.trafficService.getRatpTrafficData()}catch(p){throw p}},this.onOpenCardDetail=()=>{console.log("clicked")}}ngOnInit(){this.activatedroute.paramMap.subscribe(e=>{this.id=e.get("id")}),this.getRatpTraffic(),this.loading=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g),t.Y36(s.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ratp"]],decls:5,vars:2,consts:[["name","description","content","Ratp traffic info. page uses Tailwind-styled cards to display info. that can be clicked on to show a more detail."],[4,"ngIf","ngIfElse"],["cards",""],[1,"min-h-screen","min-w-screen"],[1,"grid","grid-cols-2","gap-2","p-2","mt-4","xs:","sm:grid-cols-4","md:grid-cols-4","lg:grid-cols-4","xl:grid-cols-8"],[4,"ngFor","ngForOf"],[1,"has-tooltip"],[1,"p-1","-mt-8","bg-gray-100","rounded","shadow-lg","tooltip",3,"ngStyle"],[1,"transition-transform","duration-300","ease-in-out","transform","cursor-pointer","hover:scale-105",3,"ratp"]],template:function(e,o){if(1&e&&(t.TgZ(0,"head"),t._UZ(1,"meta",0),t.qZA(),t.YNc(2,y,2,0,"div",1),t.YNc(3,Z,6,7,"ng-template",null,2,t.W1O)),2&e){const p=t.MAs(4);t.xp6(2),t.Q6J("ngIf",o.loading)("ngIfElse",p)}},dependencies:[i.sg,i.O5,i.PC,v,C,i.Ov],styles:[".tooltip[_ngcontent-%COMP%]{visibility:hidden;position:absolute}.has-tooltip[_ngcontent-%COMP%]:hover   .tooltip[_ngcontent-%COMP%]{visibility:visible;z-index:50}"]}),n})()}];let S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.Bz.forChild(M),s.Bz]}),n})(),x=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[i.ez]}),n})(),A=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[i.ez,S,x]}),n})()}}]);